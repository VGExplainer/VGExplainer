static int nfs_read_reply(unsigned char *pkt, unsigned len)
{
	int rlen;
	uint32_t *data;
	int ret;

	debug("%s\n", __func__);

	ret = rpc_check_reply(pkt, 1);
	if (ret)
		return ret;

	data = (uint32_t *)(pkt + sizeof(struct rpc_reply));

	if (!nfs_offset) {
		uint32_t filesize = ntohl(net_read_uint32(data + 6));
		init_progression_bar(filesize);
	}

	rlen = ntohl(net_read_uint32(data + 18));

	ret = write(net_store_fd, (char *)(data + 19), rlen);
	if (ret < 0) {
		perror("write");
		return ret;
	}

	return rlen;
}